<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Line Chart with Chart.js</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <canvas id="myLineChart" width="400" height="200"></canvas>
    <script>
        // Example data arrays for two datasets
        const data1 = [
            {"date": "2023", "value": null},
            {"date": "2022", "value": 77.4},
            {"date": "2021", "value": 76.3},
            {"date": "2020", "value": 76.9},
            {"date": "2019", "value": 78.7}
        ];

        const data2 = [
            {"date": "2023", "value": 75.1},
            {"date": "2022", "value": 74.8},
            {"date": "2021", "value": null},
            {"date": "2020", "value": 75.5},
            {"date": "2019", "value": 76.3}
        ];

        // Filter and map data to get the dates and values for both datasets
        const labels = data1.map(item => item.date);

        const values1 = data1.map(item => item.value);
        const values2 = data2.map(item => item.value);

        // Get the context of the canvas element we want to select
        const ctx = document.getElementById('myLineChart').getContext('2d');

        // Create the line chart with two datasets
        const myLineChart = new Chart(ctx, {
            type: 'line',
            data: {
                labels: labels, // Labels for the x-axis
                datasets: [
                    {
                        label: 'Dataset 1: Life expectancy at birth, total (years)',
                        data: values1,
                        borderColor: 'rgb(75, 192, 192)',
                        fill: false,
                        tension: 0.1
                    },
                    {
                        label: 'Dataset 2: Another indicator',
                        data: values2,
                        borderColor: 'rgb(255, 99, 132)',
                        fill: false,
                        tension: 0.1
                    }
                ]
            },
            options: {
                scales: {
                    x: {
                        display: true,
                        title: {
                            display: true,
                            text: 'Year'
                        }
                    },
                    y: {
                        display: true,
                        title: {
                            display: true,
                            text: 'Value'
                        }
                    }
                }
            }
        });
    </script>
</body>
</html>
